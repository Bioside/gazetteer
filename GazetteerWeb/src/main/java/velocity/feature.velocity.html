<html>
<body>

#if($featureJSON.optString('type') == 'poipnt')
<div class="feature" feature-id="$featureJSON.getString('feature_id')" itemscope 
	itemtype="http://schema.org/LocalBusiness">
#elseif ($featureJSON.optString('type') == 'adrpnt')
<div class="feature" feature-id="$featureJSON.getString('feature_id')" itemscope 
	itemtype="http://schema.org/Residence">
#else
<div class="feature" feature-id="$featureJSON.getString('feature_id')" itemscope 
	itemtype="http://schema.org/Place">
#end
	<div class="addresses" itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">
	#foreach( $addr in $u.objList($featureJSON, 'addresses') )
		<div itemprop="name" class="address">$u.esc($addr.optString('address'))</div> 
		<div class="address-details">
			#if($addr.optString('admin0_name') != '')
			<a href="$u.link($addr.getJSONObject('refs').optString('admin0'), $fDetailsBase)" 
				class="addrPart" itemprop="addressCountry" itemscope 
				itemtype="http://schema.org/Country" >
					<span itemprop="name">$u.esc($addr.optString('admin0_name'))</span>
			</a>
			#end 
			#if($addr.optString('admin1_name') != '')
			<a href="$u.link($addr.getJSONObject('refs').optString('admin1'), $fDetailsBase)" 
				class="addrPart" 
				itemprop="addressRegion">$u.esc($addr.optString('admin1_name'))</a>
			#end 
			#if($addr.optString('admin2_name') != '')
			<a href="$u.link($addr.getJSONObject('refs').optString('admin2'), $fDetailsBase)" 
				class="addrPart" >$u.esc($addr.optString('admin2_name'))</a>
			#end 
			#if($addr.optString('local_admin_name') != '')
			<a href="$u.link($addr.getJSONObject('refs').optString('local_admin'), $fDetailsBase)" 
				class="addrPart" >$u.esc($addr.optString('local_admin_name'))</a>
			#end 
			#if($addr.optString('locality_name') != '')
			<a href="$u.link($addr.getJSONObject('refs').optString('locality'), $fDetailsBase)" 
				class="addrPart" itemprop="addressLocality" >$u.esc($addr.optString('locality_name'))</a>
			#elseif($addr.optJSONObject('nearest_place') != null)
			<a href="$u.link($addr.optJSONObject('nearest_place').optString('id'), $fDetailsBase)" 
				class="addrPart" itemprop="addressLocality" >
				$u.esc($addr.optJSONObject('nearest_place').optString('name'))
			</a>	
			#end 
			#if($addr.optString('neighborhood_name') != '')
			<a href="$u.link($addr.getJSONObject('refs').optString('neighborhood'), $fDetailsBase)" 
				class="addrPart" >$u.esc($addr.optString('neighborhood_name'))</a>
			#elseif($addr.optJSONObject('nearest_place') != null)
			<a href="$u.link($addr.optJSONObject('nearest_neighborhood').optString('id'), $fDetailsBase)" 
				class="addrPart" itemprop="addressLocality" >
				$u.esc($addr.optJSONObject('nearest_neighborhood').optString('name'))
			</a>	
			#end
			#if($addr.optString('street_name') != '' && $addr.optString('housenumber') != '')
			<span itemprop="streetAddress" > 
				#if($addr.optString('street_name') != '')
				<a href="$u.link($addr.getJSONObject('refs').optString('street'), $fDetailsBase)" 
					class="addrPart" >$u.esc($addr.optString('street_name'))</a>
				#end 
				#if($addr.optString('housenumber') != '')
				<span class="addrPart">$u.esc($addr.optString('housenumber'))</span>
				#end
			</span>
			#end
		</div>
		
		#foreach( $alt in $u.objList($addr, 'alt_addresses') )
		<div itemprop="alternateName" class="address-translation">
			$u.esc($alt)		
		</div>
		#end
		
	#end	
	</div>
	
	#if($featureJSON.optString('type') == 'poipnt')
	<div class="poi">
		<div>Information:</div>
		<div><span itemprop="name">$u.esc($featureJSON.optString('name'))</span> 
			(<span>$u.esc($featureJSON.getJSONArray('poi_class_names').getString(0))</span>)
		</div>
		#if ($featureJSON.optString('operator') != '')
		<div>Operator $u.esc($featureJSON.optString('operator'))</div>
		#end
		#if ($featureJSON.optString('brand') != '')
		<div>Brand: $u.esc($featureJSON.optString('brand'))</div>
		#end
		#if ($featureJSON.optString('opening_hours') != '')
		<div>Work time: $u.esc($featureJSON.optString('opening_hours'))</div>
		#end
		#if ($featureJSON.optString('phone') != '')
		<div itemprop="telephone">Phone: $u.esc($featureJSON.optString('phone'))</div>
		#end
		#if ($featureJSON.optString('email') != '')
		<div itemprop="email">Email: $u.esc($featureJSON.optString('email'))</div>
		#end
		#if ($featureJSON.optString('website') != '')
		<div itemprop="url">Website: $u.esc($featureJSON.optString('website'))</div>
		#end
	</div> 
	#end
	
	#if($featureJSON.optJSONArray('nearby_streets'))
	<div class="nearby-streets">
		<h4>Nearby streets</h4>
		#foreach($strt in $u.objList($featureJSON, 'nearby_streets'))
		<div>
			<a href="$u.link($strt.optString('id'), $fDetailsBase)">$u.esc($strt.optString('name'))</a>
			#if ($strt.optJSONArray('alt_names'))
			<div class="street-alt-names">
				#foreach ($aname in $u.strList($strt, 'alt_names'))
				(<span class="street-alt-name" >$u.esc($aname)</span>)
				#end
			</div>
			#end
		</div>
		#end
	</div> 
	#end

	#if($featureJSON.optJSONArray('nearby_places'))
	<div class="nearby-places">
		<h4>Nearby places</h4>
		#foreach ($place in $u.objList($featureJSON, 'nearby_places'))
		<div>
			<a href="$u.link($fDetailsBase, $place.optString('id'))">$place.name</a>
			#if ($place.optJSONArray('alt_names'))
			<div class="place-alt-names">
				#foreach ($aname in $u.strList($place, 'alt_names'))
				(<span class="place-alt-name">$u.esc($aname)</span>)
				#end
			</div>
			#end
		</div>
		#end
	</div>
	#end 
	
</div>
</body>
<html>